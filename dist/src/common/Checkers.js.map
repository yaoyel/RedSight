{"version":3,"file":"Checkers.js","sourceRoot":"","sources":["../../../src/common/Checkers.ts"],"names":[],"mappings":";;;;;;;;;;AACA,mDAA8C;AAE9C;IAEU,UAAU,CAAC,GAAQ,EAAE,GAAM,EAAE,YAAqB,EAAE,eAAwB,IAAI;;YAClF,MAAM,CAAC,GAAG,MAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACJ,EAAE,CAAC,CAAC,YAAY,IAAI,CAAC,YAAY,CAAC;oBAC9B,MAAM,IAAI,6BAAa,CAAC,YAAY,CAAC,CAAC;gBAE1C,EAAE,CAAC,CAAC,YAAY,CAAC;oBACb,MAAM,CAAC,CAAC,CAAC;gBACb,IAAI;oBACA,MAAM,CAAC,IAAI,CAAC;YACpB,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;QACL,CAAC;KAAA;IAEK,aAAa,CAAC,GAAQ,EAAE,GAAM,EAAE,YAAqB,EAAE,eAAwB,IAAI;;YACrF,MAAM,CAAC,GAAG,MAAM,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACjC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACJ,EAAE,CAAC,CAAC,YAAY,CAAC;oBACb,MAAM,CAAC,CAAC,CAAC;gBACb,IAAI;oBACA,MAAM,CAAC,KAAK,CAAC;YACrB,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,EAAE,CAAC,CAAC,YAAY,CAAC;oBACb,MAAM,IAAI,6BAAa,CAAC,YAAY,CAAC,CAAC;gBAC1C,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;QACL,CAAC;KAAA;CACJ;AAhCD,0BAgCC","sourcesContent":["import {Repository} from \"typeorm\";\nimport {RedSightError} from \"./RedSightError\";\n\nexport class Checker<T, U extends Repository<T>> {\n\n    async existCheck(arg: any, rep: U, errorMessage?: string, returnEntity: boolean = true): Promise<T | RedSightError | boolean> {\n        const t = await rep.findOne(arg);\n        if (t) {\n            if (errorMessage && !returnEntity)\n                throw new RedSightError(errorMessage);\n\n            if (returnEntity)\n                return t;\n            else\n                return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    async notExistCheck(arg: any, rep: U, errorMessage?: string, returnEntity: boolean = true): Promise<T | RedSightError | boolean> {\n        const t = await rep.findOne(arg);\n        if (t) {\n            if (returnEntity)\n                return t;\n            else\n                return false;\n        }\n        else {\n            if (errorMessage)\n                throw new RedSightError(errorMessage);\n            return true;\n        }\n    }\n}"]}